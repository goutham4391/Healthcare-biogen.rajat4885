$(document).ready(function(){function r(){$("a.js-videoOverlayTriggerhomeopt.job-videoLink").each(function(){if("undefined"==$(this).attr("data-videosrc")){$(this).hide();var b=document.getElementById("default_image"),a=$(this).parent().children("img")[0];"{staticimage}"!==b.getAttribute("src")&&$(a).hasClass("show-static-img")&&$(a).css("display","block")}})}function t(){var b=[];$.each($("input[name\x3d'category']:checked"),function(){b.push(encodeURIComponent($(this).val()))});0==b.length&&(b[0]=
"null");var a=[];$.each($("input[name\x3d'location']:checked"),function(){a.push(encodeURIComponent($(this).val()))});0==a.length&&(a[0]="null");var c=[];$.each($("input[name\x3d'region']:checked"),function(){c.push(encodeURIComponent($(this).val()))});0==c.length&&(c[0]="null");var d=[];$.each($("input[name\x3d'joblevel']:checked"),function(){d.push(encodeURIComponent($(this).val()))});0==d.length&&(d[0]="null");var l=[];$.each($("input[name\x3d'jobtype']:checked"),function(){l.push(encodeURIComponent($(this).val()))});
0==l.length&&(l[0]="null");return[b,a,c,d,l]}function e(b){var a=t(),c=a[0],d=a[1],l=a[2],e=a[3];a=a[4];var f=$("#currentPagePath").val();jQuery.ajax({url:"/bin/dxp/career/search?searchKey\x3d"+b+"\x26category\x3d"+c+"\x26location\x3d"+d+"\x26region\x3d"+l+"\x26joblevel\x3d"+e+"\x26jobtype\x3d"+a+"\x26currentpagepath\x3d"+f,method:"GET",success:function(a){$("#jobcounts").text(a.totalresults);u.empty();for(var b=0;b<a.content.length;b++){var c=a.content[b];n(c,p);u.append(n(c,p))}0==a.totalresults?
($(".smartjobresults").hide(),$(".noresults").show()):($(".smartjobresults").show(),$(".noresults").hide());10<a.totalresults?$(".job-count").show():$(".job-count").hide();r()},error:function(){}})}function v(){$("input:checkbox").removeAttr("checked");$(".filterlist").empty();var b=$("#search-input").val();e(b)}function g(b){var a=t(),c=a[0],d=a[1],e=a[2],f=a[3];a=a[4];var h=$("#currentPagePath").val(),g=$(this).scrollTop();if(1024<$(window).width()?g>w:1){var k=!0;if(k&&0<$("ul.results-container li.results-main").length&&
(1024<$(window).width()?$(window).scrollTop()+outerHeight-$("ul.results-container").offset().top>$("ul.results-container li.results-main:last-child").offset().top:1)){k=!1;var m=$("ul.results-container li.results-main").length;q<m?(767<$(window).width()?$(".loadmoretext").hide():$(".loadmorebutton").hide(),$("#loadmore").show(),q=$("ul.results-container li.results-main").length,jQuery.ajax({url:"/bin/dxp/career/search?searchKey\x3d"+b+"\x26category\x3d"+c+"\x26location\x3d"+d+"\x26region\x3d"+e+"\x26joblevel\x3d"+
f+"\x26jobtype\x3d"+a+"\x26currIndex\x3d"+m+"\x26currentpagepath\x3d"+h,method:"GET",async:!1,success:function(a){$("#jobcounts").text(a.totalresults);for(var b=0;b<a.content.length;b++){var c=a.content[b];n(c,p);jQuery("ul.results-container li.results-main:last-child").after(n(c,p))}k=!0;$("ul.results-container li.results-main").length==$("#jobcounts").text()&&$(".job-count").hide();r();setTimeout(function(){$("#loadmore").hide();767<$(window).width()?$(".loadmoretext").show():$(".loadmorebutton").show()},
1E3)},error:function(){}})):q=0}}w=g}function n(b,a){var c=b.applyUrl;c=-1!=c.indexOf("?")?c.split("?")[0]:c;var d=$('input[name\x3d"staticimage"]').val();a=a.replace("{job.jobRQNumber}",b.jobRQNumber);a=a.replace("{job.location}",b.location);a=a.replace("{job.department}",b.department);a=a.replace("{job.jobLevel}",b.jobLevel);a=a.replace("{job.category}",b.category);a=a.replace("{job.jobTitle}",b.name);a=a.replace("{item}",b.refNumber);a=a.replace("{job.jobDescription}",b.jobDescription);a=a.replace("{job.jobDetailLink}",
c);a=a.replace("{job.jobDetailLinkMobile}",c);a=a.replace("{job.youtubeUrl}",b.youtubeUrl);a=a.replace("{job.videoImage}",b.videoImage);d&&(a=a.replace("{staticimage}",d));return a}(function(b,a,c){var d=b.getElementsByTagName(a)[0];b.getElementById(c)||(b=b.createElement(a),b.id=c,b.src="https://subscriptions.smartrecruiters.com/widget/v1/sr-job-alerts.js",d.parentNode.insertBefore(b,d))})(document,"script","sr-jsplugins");var p=$("#smartrecruiters-response-template").html(),q=0,u=$(".results-container");
$.urlParam=function(b){b=(new RegExp("[?\x26]"+b+"\x3d([^\x26#]*)")).exec(window.location.href);return null==b?null:decodeURI(b[1])||null};var h=unescape($.urlParam("searchKey"));var k=unescape($.urlParam("category")),f=unescape($.urlParam("location"));"undefined"!=typeof h&&"null"!=h&&$("#search-input").val(h);"undefined"!=typeof k&&"null"!=k&&$("input[type\x3d'checkbox']").each(function(){$(this).val()==k&&$(this).attr("checked",!0)});if("undefined"!=typeof f&&"null"!=f){f=f.split(",");for(var m=
0;m<f.length;m++)$("input[type\x3d'checkbox']").each(function(){var b=f[m];$(this).val()==b&&$(this).attr("checked",!0)})}h=$("#search-input").val();e(h);$(".panel-heading").on("click",function(){if($(this).next().is(":visible"))$(this).next().slideUp("250"),$(this).find("i").removeClass("glyphicon-minus"),$(this).find("i").addClass("glyphicon-plus");else{for(var b=0;b<$(".panel-heading").length;b++){var a=$($(".panel-heading")[b]).find("i");$(a).hasClass("glyphicon-minus")&&($(a).removeClass("glyphicon-minus"),
$(a).addClass("glyphicon-plus"))}$(".panel-collapse").slideUp("250");$(this).next().slideDown("250");$(this).find("i").removeClass("glyphicon-plus");$(this).find("i").addClass("glyphicon-minus")}});$("#search_result").on("click",".job-results",function(){"none"==$(this).next().css("display")&&($(this).next().slideDown("250"),$(this).find(".cancel-btn-icon").show())});$("#search_result").on("click",".job-title",function(){"none"!=$(this).parent().next().css("display")&&($(this).parent().next().slideUp("250"),
$(this).parent().find(".cancel-btn-icon").hide())});$(document).on("click",".cancel-btn-icon",function(){$(this).hide();$(this).parent().next().slideUp("250");$(this).parent().addClass("cursor-pointer")});$("#search_result").on("click",".resetall .clear-icon",function(){v();$(".resetall").hide()});$(".search-filter").on("click",".clear-btn-wrapper",function(){v()});$(document).on("click",".search-icon",function(b){var a=$("#search-input").val();b.preventDefault();e(a)});$("#search-input").keypress(function(b){var a=
$("#search-input").val();13==b.which&&e(a)});var x;$("input[type\x3d'checkbox']").click(function(){var b=$(this),a=0;$(".cancel-filter-btn").each(function(){$(b).val()==$(this).text()&&(a++,$(this).parent().remove())});0>=a&&(x="\x3cdiv class\x3d'filteritem'\x3e\x3cspan class\x3d'cancel-filter-btn'\x3e"+$(b).val()+"\x3cspan class\x3d'clear-icon'\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e",$(".filterlist").append(x));$("input[type\x3d'checkbox']").is(":checked")?$(".resetall").show():$(".resetall").hide();
var c=$("#search-input").val();e(c)});$("input[type\x3d'checkbox']").each(function(){if($(this).is(":checked")){var b="\x3cdiv class\x3d'filteritem'\x3e\x3cspan class\x3d'cancel-filter-btn'\x3e"+$(this).val()+"\x3cspan class\x3d'clear-icon'\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e";$(".filterlist").append(b)}$("input[type\x3d'checkbox']").is(":checked")?$(".resetall").show():$(".resetall").hide();$("#search-input").val()});$(document).on("click",".cancel-filter-btn .clear-icon",function(){var b=
$(this).parent().text();$("input[type\x3d'checkbox']").each(function(){$(this).val()==b&&$(this).removeAttr("checked")});$(this).parent().parent().remove();$("input[type\x3d'checkbox']").is(":checked")?$(".resetall").show():$(".resetall").hide();var a=$("#search-input").val();e(a)});$(".search-filter-lable").click(function(){$(this).parent().find(".panel-group").is(":visible")?$(this).parent().find(".panel-group").slideUp("250"):$(this).parent().find(".panel-group").slideDown("250")});$("#search_result").on("click",
".loadmorebutton",function(){if(767>=$(window).width()&&(CQ.WCM?!CQ.WCM.isEditMode(!0)&&!CQ.WCM.isDesignMode(!0):1)){var b=$("#search-input").val();g(b)}});var w=0;1024<$(window).width()?$(window).scroll(function(){var b=$("#search-input").val();g(b)}):767<$(window).width()&&1025>$(window).width()&&($(window).scroll(function(){var b=$("#search-input").val();g(b)}),$("body").on("touchstart touchmove",function(){var b=$("#search-input").val();g(b)}))});
function iframeStyle(){$("#sr-alert-button iframe").contents().find(".button--custom").css({color:" #333 !important;"})}$(window).on("load",function(){0<$("#sr-alert-button iframe").length&&setTimeout(function(){},1E3)});