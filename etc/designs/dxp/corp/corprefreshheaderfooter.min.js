$(window).scroll(function() {
    var header = $('.js-header');
    if($(window).width() > 767){
    if ($(window).scrollTop() >= 30) {
        header.addClass('is-bg');
    } else {
        header.removeClass('is-bg');
    }
    } else{
         header.addClass('is-bg');
    }

});

/*Navigation hamburger menu*/


let point;
let attr;

if ($('body').hasClass('image')) {
  attr = $('body').attr('style');
}

 $(document).ready(function(){
       if($('.affiliatemenu').length!=0){
     $('.affiliatemenu').closest('.js-menu').addClass('menuaffiliate');
           if($(window).width() < 768){
          $('.menuaffiliate').siblings('.header-logo').addClass('affiliatelogo');
 }}
   $('.language-selector').on('click', function() {
	 if($(window).width() < 768){
            $(".language-selectormenu").addClass("isOpen");
            $('.header-logo').addClass("language-selector-logo");
            $('.language-selector__nav').css('display','block');
           $(".language-selector-isClose").addClass("language-selectorclose");
	 }

 });
     $('.language-selector-isClose').on('click', function() {
           if($(window).width() < 768){
                $(".language-selectormenu").removeClass("isOpen");
                $('.language-selector__nav').css('display','none');
                $(".language-selector-isClose").removeClass("language-selectorclose");
                $('.header-logo').removeClass("language-selector-logo");
            }
     });
$('.js-toggle-menu').on('click', function(e) {

  e.preventDefault();
      for(var i=0;i<$('.menu1-item .catalog a[href]').length;i++){

         if(window.location.href.indexOf($($('.menu1-item .catalog a[href]')[i]).attr('href'))>0  && $($('.menu1-item .catalog a[href]')[i]).attr('href')!='#'){

			var megamenulink = $($('.menu1-item .catalog a[href]')[i]);
			var rightroot=	megamenulink.closest('.description').find('.description-title').attr('id'); 

                 megamenulink.css('color','#96c93d');  

             for (var j=0;j<$('.firstmenu1 .menu-list-item').length;j++){

                 if(rightroot==$($('.firstmenu1 .menu-list-item')[j]).attr('id') ){
                     $($('.firstmenu1 .menu-list-item')[j]).trigger('click');

                 }
             }
         }
            else if(window.location.href.indexOf($($('.menu1-item .catalog a[href]')[i]).attr('href'))<0){
               for (var mj=0;mj<$('.firstmenu1 .menu-list-item').length;mj++){

                 if(window.location.href.indexOf($($('.firstmenu1 .menu-list-item a[href]')[mj]).attr('href'))>0 &&  $($('.firstmenu1 .menu-list-item a[href]')[mj]).attr('href')!='#'){
                     $($('.firstmenu1 .menu-list-item')[mj]).trigger('click');

                 }
             }
          }
    }

   for (var k=0;k<$('.firstmenu1 .menu-list-item a[href]').length;k++){
        var parentclick = $($('.firstmenu1 .menu-list-item a[href]')[k]);
        var parentidchild= $($('.firstmenu1 .menu-list-item a[href]')[k]).parent().attr('id');
         var PATTERN_FOR_EXTERNAL_URLS = /^(\w+:)?\/\//;
        if(parentclick.attr('href')!='#' && parentclick.attr('href').search(PATTERN_FOR_EXTERNAL_URLS) == -1){
        parentclick.on('click', function(e) {
	   $('.description').hide();
         window.location= $(this).attr('href');
		   for(var m=0;m<$('.menu1-item .description-title').length;m++){
               if(parentidchild==$($('.menu1-item .description-title')[m]).attr('id')){
                   $($('.menu1-item .description-title')[m]).closest('.description').hide();


               }
           }

       })
        }
       else if(parentclick.attr('href')!='#' && parentclick.attr('href').search(PATTERN_FOR_EXTERNAL_URLS) != -1){

             parentclick.on('click', function(e) {
			if($('#exit-site').is(':visible')==false){
                var parentidchildk = $(this).parent().attr('id');
                for(var m=0;m<$('.menu1-item .description-title').length;m++){
               if(parentidchildk==$($('.menu1-item .description-title')[m]).attr('id')){
                   $($('.menu1-item .description-title')[m]).closest('.description').hide();


               }
           }
                 window.open( $(this).attr('href'), '_blank');

		 }
                  })
		}
    } 


	//corporate affiliate sites breadcrumb functionality
	 for(var t=0;t<$('.menuaffiliate .catalog-item a[href]').length;t++){
      if(window.location.href.indexOf($($('.menuaffiliate .catalog-item a[href]')[t]).attr('href'))>0  && $($('.menuaffiliate .catalog-item a[href]')[t]).attr('href')!='#'){
		 var affiliatemenulink = $($('.menuaffiliate .catalog-item a[href]')[t]);
        affiliatemenulink.css('color','#96c93d'); 
		 }
	 }
$('.header.js-header.fixed-top').toggleClass('headertop');
  $(this).toggleClass('is-active');
 $('.js-header').toggleClass('is-open');
  $('.js-menu').toggleClass('is-open');

  if ($('.js-header').hasClass('is-open')) {
    point = $(window).scrollTop();
       if($(window).width() > 767){
    $('.header-burger').css('padding-right', '17px');
       }
    $('body')
      //.css('top', -point)
      .addClass('is-overflow');
  } else {

    $('.header-burger').removeAttr('style');
    $('body')
      //.removeAttr('style')
      .removeClass('is-overflow');

    $(window).scrollTop(point);

    if ($('body').hasClass('image')) {
      $('body').attr('style', attr);
    }
  }

  $('.out').toggleClass('is-open');
     if($(window).width() < 768){
         $('.header-logo').toggleClass('hidelogo');
     }
});




 $('.js-tabs-caption').on('click', '.menu-list-item:not(.is-active)', function() {
	 $(this).each(function(){
		 var leftvalue = $(this).attr('id');
		 $(this).addClass('is-active').siblings().removeClass('is-active');
		 $('.description .description-title').each(function(){
			 var rightvalue= $(this).attr('id');
			 if(leftvalue==rightvalue){
				 if(rightvalue != "Careers" || rightvalue != "Careers" ){
				  $(this).parent().addClass('is-active').siblings().removeClass('is-active');
				 }
				 else if(rightvalue == "Careers" || rightvalue == "Careers" ){
					$(this).parent().addClass('is-active').siblings().removeClass('is-active'); 
					$(this).parent().addClass('is-careers');

				 }
			 }else{
                 $(this).parent().removeClass('is-active');
             }
			 });
		  });

			

	 });
	 
$('.js-menu-back').on('click', function() {
  $(this).parent().removeClass('is-active');
  $(this).closest('.js-tabs').find('.menu-list-item').removeClass('is-active');
});
$($('.js-search .search-list-item')[0]).addClass('is-active');
$($('.js-search .search-list-item')[0]).css('pointer-events','none');

});

$(document).on('click','input',function(){
    var $this = $(this);
    var place_val = $this.attr('placeholder');
    if(place_val != ''){
        $this.data('placeholder',place_val).removeAttr('placeholder');
    }
}).on('blur','input',function(){
    var $this = $(this);
    var place_val = $this.data('placeholder');
    if(place_val != ''){
        $this.attr('placeholder',place_val);
    }
});

// WEBPACK FOOTER //
// src/js/components/menu.js

